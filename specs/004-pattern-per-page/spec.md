# Feature Specification: 設計模式一頁一模式與亮色主題範例可讀性

**Feature Branch**: `004-pattern-per-page`  
**Created**: 2025-02-13  
**Status**: Draft  
**Input**: User description: "我想要將所有的pattern都切割開來 使用各自的Page做顯示 不要透過patternContent.js做動態處理 另外注意亮色主題時 範例會看不清楚"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 每個設計模式有獨立專頁 (Priority: P1)

學習者從設計模式總覽進入某一個模式（例如 Factory Method、Observer）時，會看到該模式專屬的單一頁面，內容包含該模式的說明、使用方式與程式範例。每個模式都有自己對應的網址與頁面，不再透過單一動態頁面依參數切換內容。

**Why this priority**: 一頁一模式是本次功能核心，影響導覽、書籤與內容維護方式。

**Independent Test**: 依序點選總覽上的多個不同模式連結，可驗證每個模式都有獨立 URL 與專屬頁面內容，且內容正確對應該模式。

**Acceptance Scenarios**:

1. **Given** 使用者在設計模式總覽頁，**When** 點選某一個模式（如「Factory Method」），**Then** 進入該模式專屬頁面，URL 對應該模式，頁面標題與內容皆為該模式。
2. **Given** 使用者已在某模式專頁，**When** 從瀏覽器複製網址並在新分頁開啟，**Then** 直接顯示同一模式的專頁，無需經過總覽。
3. **Given** 設計模式清單中有 N 個模式，**When** 使用者依序造訪每個模式連結，**Then** 每個模式都有獨立頁面且內容與模式名稱一致，共 N 個可個別造訪的專頁。

---

### User Story 2 - 內容不依賴單一動態資料檔 (Priority: P1)

每個設計模式的頁面內容（說明、使用方式、範例）由該模式專屬的來源提供，而不是由一個共用的動態資料檔依 key 查表後渲染。這樣可讓每個模式的內容與版面獨立維護、易於擴充與閱讀。

**Why this priority**: 與 P1 連動，確保架構上「一頁一模式」是真正拆開，而非僅視覺上分頁。

**Independent Test**: 新增或修改某一個模式的內容時，只需改動該模式對應的來源，不影響其他模式；且所有模式仍可從總覽正常進入並顯示正確內容。

**Acceptance Scenarios**:

1. **Given** 某模式 A 的內容需要更新，**When** 維護者只修改與模式 A 對應的來源，**Then** 僅模式 A 的頁面內容變更，其他模式頁面不受影響。
2. **Given** 總覽上列出所有設計模式，**When** 使用者點選任一模式，**Then** 該頁面顯示的內容來自該模式專屬的來源，而非單一共用動態查表。

---

### User Story 3 - 亮色主題下程式範例清楚可讀 (Priority: P2)

使用者在設計模式專頁上切換到「亮色」主題時，頁面中的程式碼範例區塊（例如 Java 程式碼）應與背景有足夠對比，文字清楚可讀，不需切回暗色才能閱讀範例。

**Why this priority**: 可讀性影響學習體驗，但不影響「一頁一模式」的結構交付。

**Independent Test**: 在設計模式專頁切換至亮色主題，檢查所有程式碼範例區塊的字體與背景對比，可讀性與暗色主題相當。

**Acceptance Scenarios**:

1. **Given** 使用者在任一設計模式專頁且當前為暗色主題，**When** 使用者點選「亮色」切換為亮色主題，**Then** 頁面上所有程式碼範例區塊的文字與背景對比足夠，可正常閱讀。
2. **Given** 使用者偏好為亮色主題，**When** 直接進入某設計模式專頁（或從總覽進入），**Then** 程式碼範例自一開始即以亮色主題下可讀的樣式顯示。
3. **Given** 亮色主題已啟用，**When** 頁面內有多段程式碼範例，**Then** 每一段範例區塊皆具一致且足夠的對比度，無需額外操作即可閱讀。

---

### Edge Cases

- 若總覽清單新增一個新模式項目，需能對應到新的專頁與網址，且不破壞既有模式的連結。
- 若使用者輸入不存在的模式路徑，應導向設計模式總覽或適當錯誤/導覽頁，而非空白或錯誤內容。
- 書籤或分享連結為某模式專頁時，在亮色或暗色主題下再次開啟，範例皆應可讀（主題可依系統或使用者設定載入）。

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系統必須為每一個設計模式提供一個專屬的頁面，每個頁面有對應的固定網址，且從總覽可導向該頁。
- **FR-002**: 每個模式專頁的內容（說明、使用方式、程式範例）必須來自該模式專屬的來源，不得依賴單一共用動態資料檔以 key 查表後動態渲染該頁。
- **FR-003**: 設計模式總覽頁必須列出所有設計模式，且每個項目連結至對應的專頁網址；總覽的篩選（如依類別）行為維持不變。
- **FR-004**: 每個模式專頁必須包含：標題（含模式名稱）、說明區塊、使用方式區塊，以及程式碼範例區塊（若有範例）；版面與導覽（返回總覽、回首頁）與現有一致。
- **FR-005**: 程式碼範例區塊在「亮色」主題下必須具備足夠的文字與背景對比度，使範例內容清楚可讀；在「暗色」主題下維持既有可讀性。
- **FR-006**: 主題切換（亮色／暗色）在設計模式專頁上必須可用，且切換後程式碼範例區塊的樣式隨之更新，確保當前主題下皆可讀。
- **FR-007**: 對無效或不存在之模式路徑的造訪，必須導向設計模式總覽（或約定之 fallback），不得顯示空白或錯誤內容頁。

### Key Entities

- **設計模式總覽頁**: 列出所有設計模式（依類別可篩選），每個項目對應一專頁連結。
- **設計模式專頁**: 單一模式之說明、使用方式與程式範例的展示單位，一模式一頁、一頁一 URL。
- **程式碼範例區塊**: 頁面上用於顯示程式碼（如 Java）的區塊，需在亮色與暗色主題下皆可讀。

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 所有設計模式（與總覽清單一致）皆有獨立專頁與對應 URL，使用者可由總覽點選任一模式並進入該專頁，100% 模式可個別造訪。
- **SC-002**: 每個模式專頁的內容來源為該模式專屬，修改單一模式內容時不影響其他模式專頁的顯示。
- **SC-003**: 在亮色主題下，設計模式專頁上的程式碼範例區塊文字與背景對比度符合可讀性要求（例如 WCAG AA 文字對比），使用者無需切回暗色即可閱讀範例。
- **SC-004**: 使用者可在設計模式專頁上切換亮色／暗色主題，且範例區塊樣式即時更新並在兩種主題下皆可讀。
- **SC-005**: 造訪無效模式路徑時，系統導向總覽或約定 fallback，不出現空白或未處理錯誤畫面。

## Assumptions

- 設計模式清單（模式名稱、slug、類別、簡述）仍由單一清單來源維護，供總覽與路由使用；僅「專頁內容」改為每模式專屬來源。
- 現有設計模式總覽的篩選與導覽行為（返回總覽、回首頁、主題切換）保持不變。
- 可讀性以「亮色／暗色主題下程式碼區塊對比度足夠」為準，不強制指定具體色碼，以達成可讀為目標。
- 一頁一模式後，共 23 個設計模式（含既有 Singleton）均需有對應專頁；若目前僅部分模式有完整內容，其餘可為「建置中」或同等簡要說明，但每模式皆有專頁與 URL。
